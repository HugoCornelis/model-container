#!neurospacesparse
// -*- NEUROSPACES -*-

NEUROSPACES NDF

IMPORT

	FILE ca_pool "pools/purkinje_ca.ndf"
	FILE cap "tests/channels/cap.ndf"
	FILE cat "tests/channels/cat.ndf"
	FILE gaba "channels/gaba.ndf"
	FILE k2 "tests/channels/k2.ndf"
// 	FILE ka "tests/channels/ka.ndf"
	FILE kc "tests/channels/kc.ndf"
	FILE km "tests/channels/km.ndf"
	FILE non_nmda "channels/non_nmda.ndf"

END IMPORT

PRIVATE_MODELS

	ALIAS ca_pool::/Ca_concen ca_pool END ALIAS
	ALIAS cap::/cap cap END ALIAS
	ALIAS cat::/cat cat END ALIAS
	ALIAS gaba::/Purk_GABA gaba END ALIAS
	ALIAS k2::/k2 k2 END ALIAS
// 	ALIAS ka::/ka ka END ALIAS
	ALIAS kc::/kc kc END ALIAS
	ALIAS km::/km km END ALIAS
	ALIAS non_nmda::/Purk_non_NMDA non_nmda END ALIAS

END PRIVATE_MODELS

PUBLIC_MODELS

	SEGMENT thickd

		BINDABLES
			OUTPUT Vm
		END BINDABLES

		BINDINGS
                	INPUT cap->I,
                	INPUT cat->I,
                	INPUT k2->I,
                	INPUT kc->I,
                	INPUT km->I,
		END BINDINGS

		PARAMETERS
			PARAMETER ( Vm_init = -0.0680 ),
			PARAMETER ( RM = 3.0 ),
			PARAMETER ( RA = 2.50 ),
			PARAMETER ( CM = 0.0164 ),
			PARAMETER ( ELEAK = -0.0800 )
		END PARAMETERS

		CHILD cat
			cat
			BINDINGS
                		INPUT ^->Vm
			END BINDINGS
		END CHILD

		CHILD cap
			cap
			BINDINGS
                		INPUT ^->Vm
			END BINDINGS
		END CHILD

// 		CHILD ka
// 			ka
// 			BINDINGS
//                 		INPUT ^->Vm
// 			END BINDINGS
// 		END CHILD

		CHILD kc
			kc
			BINDINGS
                		INPUT ^->Vm,
                		INPUT ^/ca_pool->concen
			END BINDINGS
		END CHILD

		CHILD k2
			k2
			BINDINGS
                		INPUT ^->Vm,
                		INPUT ^/ca_pool->concen
			END BINDINGS
		END CHILD

		CHILD km
			km
			BINDINGS
                		INPUT ^->Vm
			END BINDINGS
			PARAMETERS
				PARAMETER ( GMAX = 0.130 ),
			END PARAMETERS
		END CHILD

		CHILD ca_pool
			ca_pool
			BINDINGS
                		INPUT ^/cat->I,
                		INPUT ^/cap->I
			END BINDINGS
		END CHILD

		// channels with synapses

		CHILD gaba
			stellate1
			BINDINGS
                		INPUT ^->Vm
			END BINDINGS
			PARAMETERS
				PARAMETER ( GMAX = 14.0 ), // 70.0 / 5
				PARAMETER ( Ek = -0.080 ),
// 				PARAMETER ( FREQUENCY = 0.0 )
			END PARAMETERS
		END CHILD

		CHILD gaba
			stellate2
			BINDINGS
                		INPUT ^->Vm
			END BINDINGS
			PARAMETERS
				PARAMETER ( GMAX = 14.0 ), // 70.0 / 5
				PARAMETER ( Ek = -0.080 ),
// 				PARAMETER ( FREQUENCY = 0.0 )
			END PARAMETERS
		END CHILD

		CHILD non_nmda
			climb
			BINDINGS
                		INPUT ^->Vm
			END BINDINGS
			PARAMETERS
//				PARAMETER ( GMAX = FIXED(value = 0.0013160042) ),
				PARAMETER ( GMAX = 150.0 ),
				PARAMETER ( Ek = 0.0 )
			END PARAMETERS
		END CHILD

	END SEGMENT

END PUBLIC_MODELS


